var hive_loader = require('hive-loader');
var layout_file_handler = require('handlers/layout_file_handler');
var layout_config_handler = require('handlers/layout_config_handler');

module.exports = function(layout){
	console.log('layout_loader: creating loader for layout %s', layout.get_config('root'));
	return hive_loader.loader({}, {
		handlers: [layout_file_handler()],
		root: layout.get_config('root'),
		target: layout
	})
};